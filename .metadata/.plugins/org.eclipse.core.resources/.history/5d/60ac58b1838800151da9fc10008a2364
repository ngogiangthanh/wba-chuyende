package actions;

import java.util.Map;

import com.opensymphony.xwork2.ActionContext;
import com.opensymphony.xwork2.ActionSupport;

import connection.Connect;

public class GVAction extends ActionSupport {

	private static final long serialVersionUID = 1L;
	private Connect conn;
	private String hk;
	private String nk;
	private Map<String, Object> session = null;

	public GVAction() {
	}
	
	public String getIndex(){
		this.session = ActionContext.getContext().getSession();
		if(!Home.isRole(session,1)){
			if(!session.isEmpty()){
				session.clear();
				addActionError("Truy xuất sai nhóm quyền!");
				addActionMessage("Tự động đăng xuất để đăng nhập nhóm quyền phù hợp!");
				}
			return "error";
		}
		session.put("title", "Trang chủ giảng viên");
		return "index";
	}
	
	public String getViewLopHP(){
		this.session = ActionContext.getContext().getSession();
		if(!Home.isRole(session,1)){
			if(!session.isEmpty()){
				session.clear();
				addActionError("Truy xuất sai nhóm quyền!");
				addActionMessage("Tự động đăng xuất để đăng nhập nhóm quyền phù hợp!");
				}
			return "error";
		}
		session.put("title", "Trang chủ giảng viên");
		return "view-lophp";
	}
}
