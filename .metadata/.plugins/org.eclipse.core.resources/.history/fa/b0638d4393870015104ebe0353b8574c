package actions;

import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Map;

import com.mysql.jdbc.ResultSet;
import com.opensymphony.xwork2.ActionSupport;

import connection.Connect;
import models.thang_diem;

public class ThangDiemAction extends ActionSupport {

	private static final long serialVersionUID = 1L;
	private Connect conn;

	public ThangDiemAction() {
	}
	
	public void assignTDValues(Map<String, Object> session){
		this.conn = new Connect();
		String procedure = "call get_tt_thang_diem();";
		
		thang_diem thang_diem_qd = new thang_diem();
		
		try {
			ResultSet rs = this.conn.call_procedure(procedure);
			SimpleDateFormat formatter = new SimpleDateFormat("dd/MM/yyyy");
			if(rs.next()){
				String td_da_tri = rs.getString("THANG_DIEM");
			}
			//Đóng kết nối
			rs.close();
			this.conn.Close();
		} catch (SQLException e) {
			e.printStackTrace();
		}
		//Thêm vào session
		session.put("thang_diem", thang_diem_qd);
	}
}
